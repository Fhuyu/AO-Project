(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["killboard"],{1148:function(t,e,r){"use strict";var a=r("a691"),n=r("1d80");t.exports="".repeat||function(t){var e=String(n(this)),r="",i=a(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"13d5":function(t,e,r){"use strict";var a=r("23e7"),n=r("d58f").left,i=r("a640"),o=r("ae40"),s=i("reduce"),l=o("reduce",{1:0});a({target:"Array",proto:!0,forced:!s||!l},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),i=r("17c2"),o=r("9112");for(var s in n){var l=a[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{o(c,"forEach",i)}catch(u){c.forEach=i}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("a640"),i=r("ae40"),o=n("forEach"),s=i("forEach");t.exports=o&&s?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,r){var a=r("d039"),n=r("b622"),i=r("2d00"),o=n("species");t.exports=function(t){return i>=51||!a((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,r){"use strict";var a=r("23e7"),n=r("5a34"),i=r("1d80"),o=r("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"408a":function(t,e,r){var a=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,e,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(t,e,r){var a=r("861d"),n=r("c6b6"),i=r("b622"),o=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"49cf":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"uk-container-xlarge uk-margin-auto"},[r("div",{staticClass:"uk-button-group"},[r("button",{staticClass:"uk-button uk-button-secondary",on:{click:function(e){return t.sort("guildName")}}},[t._v("GUILDNAME "),"guildName"===t.currentSort&&"desc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-up"}}):t._e(),"guildName"===t.currentSort&&"asc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-down"}}):t._e()]),r("button",{staticClass:"uk-button uk-button-secondary",on:{click:function(e){return t.sort("name")}}},[t._v("NAME "),"name"===t.currentSort&&"desc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-up"}}):t._e(),"name"===t.currentSort&&"asc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-down"}}):t._e()]),r("button",{staticClass:"uk-button uk-button-secondary",on:{click:function(e){return t.sort("itempower")}}},[t._v("ITEM POWER "),"itempower"===t.currentSort&&"desc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-up"}}):t._e(),"itempower"===t.currentSort&&"asc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-down"}}):t._e()]),r("button",{staticClass:"uk-button uk-button-secondary",on:{click:function(e){return t.sort("killFame")}}},[t._v("KILLFAME "),"killFame"===t.currentSort&&"desc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-up"}}):t._e(),"killFame"===t.currentSort&&"asc"===t.currentSortDir?r("span",{attrs:{"uk-icon":"arrow-down"}}):t._e()])]),r("ul",{staticClass:"uk-grid-collapse",attrs:{"uk-grid":"masonry: true","uk-accordion":"multiple: true"}},t._l(t.battle.alliances,(function(e,a){return r("li",{key:a,staticClass:"uk-margin-auto uk-open uk-width-2-5 uk-card uk-card-default uk-margin-small-bottom",staticStyle:{"padding-right":"20px"}},[r("a",{staticClass:"uk-accordion-title",attrs:{href:"#"}},[t._v(t._s(e.name)+" | KDA : "+t._s(e.kills)+" / "+t._s(e.deaths)+" | KILLFAME : "+t._s(e.killFame)+" "),t.showStats&&e.listItemPower.length>0?r("span",[t._v("IP Moyen : "+t._s((t.sumArray(e.listItemPower)/e.listItemPower.length).toFixed(0)))]):t._e()]),r("div",{staticClass:"uk-accordion-content"},[r("table",{staticClass:"uk-table uk-table-divider uk-table-striped",staticStyle:{position:"relative",margin:"10px"}},[t._m(0,!0),r("tbody",t._l(e.players,(function(e){return r("tr",{key:e.id},[r("td",{staticStyle:{"max-width":"80px",position:"absolute",left:"-90px"}},[e.id===t.bestPlayerKillfame.id?r("span",{staticClass:"uk-label uk-label-warning"},[t._v("KILLFAME")]):t._e(),e.id===t.bestPlayerKill.id?r("span",{staticClass:"uk-label uk-label-danger"},[t._v("KILLS")]):t._e()]),r("td",[t._v(t._s(e.guildName))]),t.showStats&&e.weapon?r("td",[r("img",{staticStyle:{height:"35px"},attrs:{"uk-tooltip":e.weapon.Type,src:t.imageWeaponUri(e.weapon.Type)}})]):r("td"),r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.kills))]),r("td",[t._v(t._s(e.deaths))]),r("td",[t._v(t._s(e.assistance))]),t.showStats?r("td",[t._v(t._s(t.sumArray(e.damageDone).toFixed(0)))]):r("td",[r("div",{attrs:{"uk-spinner":""}})]),t.showStats?r("td",[t._v(t._s(t.sumArray(e.healingDone).toFixed(0)))]):r("td",[r("div",{attrs:{"uk-spinner":""}})]),t.showStats?r("td",[t._v(t._s(e.itempower))]):r("td",[r("div",{attrs:{"uk-spinner":""}})]),r("td",[t._v(" "+t._s(e.killFame)+" ")])])})),0)])])])})),0)])},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("td"),t._v(" "),r("td",[t._v("Guild")]),r("td"),r("td",[t._v("Name")]),r("td",[t._v("Kills")]),r("td",[t._v("Deaths")]),r("td",[t._v("Assist")]),r("td",[t._v("Damages")]),r("td",[t._v("Heal")]),r("td",[t._v(" Item Power ")]),r("td",[t._v(" Kill Fame ")])])])}],i=(r("99af"),r("4160"),r("caad"),r("13d5"),r("4e82"),r("b680"),r("b64b"),r("e25e"),r("2532"),r("159b"),r("96cf"),r("1da1")),o=r("bc3a"),s=r.n(o),l={name:"Battle",data:function(){return{battle:[],refreshStats:[],bestPlayerKillfame:{id:"",killfame:0},bestPlayerKill:{id:"",kill:0},showWeapon:!1,showStats:!1,currentSort:"killFame",currentSortDir:"desc",reload:0}},components:{},methods:{fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("http://localhost:3000/killboard/".concat(t.$route.params.id));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},playerDead:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s.a.get("http://localhost:3000/player/".concat(t)).then((function(r){var a=r.data;a.forEach((function(r){r.BattleId===e.battle.id&&(e.battle.players[t].eventDeath=r,e.refreshStats.push(t),console.log("".concat(Object.keys(e.refreshStats).length," = ").concat(e.battle.totalKills)),e.battle.totalKills===Object.keys(e.refreshStats).length&&(e.reload+=1,e.showWeapon=!0))}))}))["catch"]((function(r){e.refreshStats.push(t)}));case 2:case"end":return r.stop()}}),r)})))()},getPlayerDeath:function(t){for(var e in this.battle.players)this.battle.players[e].deaths>0&&this.refreshStats.includes(e)?this.refreshStats.push(e):this.battle.players[e].deaths>0&&this.playerDead(e)},imageWeaponUri:function(t){return"https://gameinfo.albiononline.com/api/gameinfo/items/".concat(t)},sumArray:function(t){return t.reduce((function(t,e){return t+e}),0)},sort:function(t){console.log(this.currentSort),console.log("clicked",t),t===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=t,this.reload+=1,console.log(this.currentSort)}},mounted:function(){var t=this;this.fetchData().then((function(e){for(var r in t.battle=e.data,t.battle.players)t.battle.players[r].killFame>t.bestPlayerKillfame.killfame&&(t.bestPlayerKillfame.killfame=t.battle.players[r].killFame,t.bestPlayerKillfame.id=t.battle.players[r].id),t.battle.players[r].kills>t.bestPlayerKill.kill&&(t.bestPlayerKill.kill=t.battle.players[r].kills,t.bestPlayerKill.id=t.battle.players[r].id);for(var a in t.battle.players)if(console.log("ALLIANCE DU JOUEUR : ",t.battle.players[a]),t.battle.players[a].allianceId){console.log("ALLIANCE DU JOUEUR : ",t.battle.players[a].allianceId);var n=t.battle.players[a].allianceId;t.battle.alliances[n].players.push(t.battle.players[a]),console.log("ALLIANCE DU JOUEUR UPDATED: ",t.battle.alliances[n])}t.reload+=1,t.getPlayerDeath()}))},watch:{showWeapon:function(){var t=this;for(var e in this.refreshStats.forEach((function(e){for(var r in t.battle.players[e].weapon=t.battle.players[e].eventDeath.Victim.Equipment.MainHand,t.battle.players[e].itempower=t.battle.players[e].eventDeath.Victim.AverageItemPower,t.battle.players[e].itempower=t.battle.players[e].itempower.toFixed(0),t.battle.players[e].eventDeath.Participants){var a=t.battle.players[e].eventDeath.Participants[r].Id;t.battle.players[a]&&(t.battle.players[a].assistance+=1,t.battle.players[a].damageDone.push(t.battle.players[e].eventDeath.Participants[r].DamageDone),t.battle.players[a].healingDone.push(t.battle.players[e].eventDeath.Participants[r].SupportHealingDone),t.battle.players[a].weapon||(t.battle.players[a].weapon=t.battle.players[e].eventDeath.Participants[r].Equipment.MainHand,t.battle.players[a].itempower=t.battle.players[e].eventDeath.Participants[r].AverageItemPower,t.battle.players[a].itempower=t.battle.players[a].itempower.toFixed(0)))}})),this.battle.alliances)this.battle.alliances[e].players=[];for(var r in this.battle.players)if(this.battle.players[r].allianceId){var a=this.battle.players[r].allianceId;this.battle.alliances[a].players.push(this.battle.players[r]),this.battle.players[r].itempower&&this.battle.alliances[a].listItemPower.push(parseInt(this.battle.players[r].itempower))}this.showStats=!0},reload:function(){var t=this;for(var e in this.battle.alliances)console.log,this.battle.alliances[e].sortedPlayers=this.battle.alliances[e].players.sort((function(e,r){var a=1;return"desc"===t.currentSortDir&&(a=-1),e[t.currentSort]<r[t.currentSort]?-1*a:e[t.currentSort]>r[t.currentSort]?1*a:0}))}}},c=l,u=(r("abda"),r("2877")),f=Object(u["a"])(c,a,n,!1,null,"5bc9141b",null);e["default"]=f.exports},"4e82":function(t,e,r){"use strict";var a=r("23e7"),n=r("1c0b"),i=r("7b0b"),o=r("d039"),s=r("a640"),l=[],c=l.sort,u=o((function(){l.sort(void 0)})),f=o((function(){l.sort(null)})),d=s("sort"),p=u||!f||!d;a({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),n(t))}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),n=r("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5a34":function(t,e,r){var a=r("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"65f0":function(t,e,r){var a=r("861d"),n=r("e8b5"),i=r("b622"),o=i("species");t.exports=function(t,e){var r;return n(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},8418:function(t,e,r){"use strict";var a=r("c04e"),n=r("9bf2"),i=r("5c6c");t.exports=function(t,e,r){var o=a(e);o in t?n.f(t,o,i(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var a=r("23e7"),n=r("d039"),i=r("e8b5"),o=r("861d"),s=r("7b0b"),l=r("50c4"),c=r("8418"),u=r("65f0"),f=r("1dde"),d=r("b622"),p=r("2d00"),h=d("isConcatSpreadable"),b=9007199254740991,v="Maximum allowed index exceeded",y=p>=51||!n((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=f("concat"),g=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},S=!y||!m;a({target:"Array",proto:!0,forced:S},{concat:function(t){var e,r,a,n,i,o=s(this),f=u(o,0),d=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?o:arguments[e],g(i)){if(n=l(i.length),d+n>b)throw TypeError(v);for(r=0;r<n;r++,d++)r in i&&c(f,d,i[r])}else{if(d>=b)throw TypeError(v);c(f,d++,i)}return f.length=d,f}})},a334:function(t,e,r){},ab13:function(t,e,r){var a=r("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},abda:function(t,e,r){"use strict";var a=r("a334"),n=r.n(a);n.a},ae40:function(t,e,r){var a=r("83ab"),n=r("d039"),i=r("5135"),o=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var r=[][t],c=!!i(e,"ACCESSORS")&&e.ACCESSORS,u=i(e,0)?e[0]:l,f=i(e,1)?e[1]:void 0;return s[t]=!!r&&!n((function(){if(c&&!a)return!0;var t={length:-1};c?o(t,1,{enumerable:!0,get:l}):t[1]=1,r.call(t,u,f)}))}},b64b:function(t,e,r){var a=r("23e7"),n=r("7b0b"),i=r("df75"),o=r("d039"),s=o((function(){i(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(t){return i(n(t))}})},b680:function(t,e,r){"use strict";var a=r("23e7"),n=r("a691"),i=r("408a"),o=r("1148"),s=r("d039"),l=1..toFixed,c=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},f=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));a({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,r,a,s,l=i(this),d=n(t),p=[0,0,0,0,0,0],h="",b="0",v=function(t,e){var r=-1,a=e;while(++r<6)a+=t*p[r],p[r]=a%1e7,a=c(a/1e7)},y=function(t){var e=6,r=0;while(--e>=0)r+=p[e],p[e]=c(r/t),r=r%t*1e7},m=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var r=String(p[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(h="-",l=-l),l>1e-21)if(e=f(l*u(2,69,1))-69,r=e<0?l*u(2,-e,1):l/u(2,e,1),r*=4503599627370496,e=52-e,e>0){v(0,r),a=d;while(a>=7)v(1e7,0),a-=7;v(u(10,a,1),0),a=e-1;while(a>=23)y(1<<23),a-=23;y(1<<a),v(1,1),y(2),b=m()}else v(0,r),v(1<<-e,0),b=m()+o.call("0",d);return d>0?(s=b.length,b=h+(s<=d?"0."+o.call("0",d-s)+b:b.slice(0,s-d)+"."+b.slice(s-d))):b=h+b,b}})},b727:function(t,e,r){var a=r("0366"),n=r("44ad"),i=r("7b0b"),o=r("50c4"),s=r("65f0"),l=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,u=4==t,f=6==t,d=5==t||f;return function(p,h,b,v){for(var y,m,g=i(p),S=n(g),w=a(h,b,3),k=o(S.length),_=0,x=v||s,D=e?x(p,k):r?x(p,0):void 0;k>_;_++)if((d||_ in S)&&(y=S[_],m=w(y,_,g),t))if(e)D[_]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return _;case 2:l.call(D,y)}else if(u)return!1;return f?-1:c||u?u:D}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c20d:function(t,e,r){var a=r("da84"),n=r("58a8").trim,i=r("5899"),o=a.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(i+"08")||22!==o(i+"0x16");t.exports=l?function(t,e){var r=n(String(t));return o(r,e>>>0||(s.test(r)?16:10))}:o},caad:function(t,e,r){"use strict";var a=r("23e7"),n=r("4d64").includes,i=r("44d2"),o=r("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!s},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d58f:function(t,e,r){var a=r("1c0b"),n=r("7b0b"),i=r("44ad"),o=r("50c4"),s=function(t){return function(e,r,s,l){a(r);var c=n(e),u=i(c),f=o(c.length),d=t?f-1:0,p=t?-1:1;if(s<2)while(1){if(d in u){l=u[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in u&&(l=r(l,u[d],d,c));return l}};t.exports={left:s(!1),right:s(!0)}},e25e:function(t,e,r){var a=r("23e7"),n=r("c20d");a({global:!0,forced:parseInt!=n},{parseInt:n})},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=killboard.a6fadc37.js.map